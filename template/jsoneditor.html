<!DOCTYPE html>
<html>
<title>JSON Editor for TODOs</title>

<head>
    <link rel="stylesheet" href="../src/themes/darkly.min.css">
    <!-- <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ extensions: ["tex2jax.js"], jax: ["input/TeX","output/HTML-CSS"], tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]} });
    </script>
    <script type="text/javascript" src="../src/MathJax-2.6-latest/MathJax.js"></script> -->
</head>
<div id="source" style="display:none;">
    # JSON Editor for TODOs
    [Return to index](../index.html) 
    ### This is an online JSON Editor generated by [json-editor](https://github.com/jdorn/json-editor).
    You can
    - edit the content, status and tag of one TODO.
    - use `Add row` to add another TODO.
    - The `content` of a TODO object is a String, in which symbols like `\` or `"` need to be followed after a backslash. The editor will take care of this and you do not need to worry. You can try, e.g., typing something like `$\theta$` in the `content` and see the difference.
    
</div>

<body>
    <div class="container">
        <div id="target">
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="bs-component" id="editor_holder">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div id="source-between" style="display:none;">                
                    The JSON code is displayed below.  After you modified something, just click somewhere else and the code will update.
                    <p></p>
                    You can easily understand how JSON's grammar works. You can copy them into your `todos.json` file, where you might need to add comma before or after the code you paste.
                </div>
                <div class="bs-component" id="target-between">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <pre id="json-code">
                </pre>
            </div>            
        </div>
    </div>
    <!-- <div>
  <h1 id="clock">
    
  </h1>
</div> -->
</body>
<script src="../src/jquery-3.1.1.min.js"></script>
<script src="../src/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
<script src="../src/showdown.min.js"></script>
<script src="../src/jsoneditor.min.js"></script>
<script>
var text = document.getElementById('source').innerHTML;
target = document.getElementById('target');
var converter = new showdown.Converter({
    tasklists: 'true',
    smartIndentationFix: 'true',
    strikethrough: 'true'
});
html = converter.makeHtml(text);
target.innerHTML = html;
text = document.getElementById('source-between').innerHTML;
document.getElementById('target-between').innerHTML = converter.makeHtml(text);

editorSchema = {
    "title": "TODOs for one day",
    "type": "object",
    "properties": {
        "put the date here": {
            "type": "array",
            "format": "table",
            "uniqueItems": true,
            "items": {
                "type": "object",
                "properties": {
                    "content": {
                        "type": "string",
                        "default": "change the content here"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "todo",
                            "done",
                            "undone"
                        ],
                        "default": "todo"
                    },
                    "tag": {
                        "type": "string",
                        "default": "hw"
                    }
                }
            },
            "default": [{
                "content": "change the content here",
                "status": "todo",
                "tag": "hw"
            }]
        }
    }
};

var editor = new JSONEditor(document.getElementById('editor_holder'), {
  //...
  schema: editorSchema,
  theme: 'bootstrap3',
  disable_edit_json: false
});


editor.on("change",  function() {    
    var json = editor.getValue();
    document.getElementById('json-code').innerHTML = JSON.stringify(json,null,2);
});

</script>

</html>
